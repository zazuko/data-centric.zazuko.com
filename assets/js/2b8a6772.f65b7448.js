"use strict";(self.webpackChunkdata_centric_zazuko_com=self.webpackChunkdata_centric_zazuko_com||[]).push([[9424],{9215:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>r,default:()=>p,frontMatter:()=>l,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"apis/kopflos/reference/modules/html-template","title":"@kopflos-labs/html-template","description":"Handler","source":"@site/docs/apis/kopflos/reference/modules/html-template.md","sourceDirName":"apis/kopflos/reference/modules","slug":"/apis/kopflos/reference/modules/html-template","permalink":"/docs/apis/kopflos/reference/modules/html-template","draft":false,"unlisted":false,"editUrl":"https://github.com/zazuko/data-centric.zazuko.com/tree/main/docs/apis/kopflos/reference/modules/html-template.md","tags":[],"version":"current","frontMatter":{},"sidebar":"apisSidebar","previous":{"title":"@kopflos-labs/handlebars","permalink":"/docs/apis/kopflos/reference/modules/handlebars"},"next":{"title":"@kopflos-cms/serve-file","permalink":"/docs/apis/kopflos/reference/modules/serve-file"}}');var o=n(4848),s=n(8453);const l={},r="@kopflos-labs/html-template",d={},c=[{value:"Handler",id:"handler",level:2}];function i(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"kopflos-labshtml-template",children:"@kopflos-labs/html-template"})}),"\n",(0,o.jsx)(t.h2,{id:"handler",children:"Handler"}),"\n",(0,o.jsxs)(t.p,{children:["The handler transforms the HTML template by binding [templates][#templates] with provided data. It must be\npreceded by another handler that serves the HTML, such as ",(0,o.jsx)(t.a,{href:"/docs/apis/kopflos/reference/modules/serve-file",children:"@kopflos-cms/serve-file"}),"."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-turtle",children:'PREFIX code: <https://code.described.at/>\nPREFIX kl: <https://kopflos.described.at/>\n\n[\n  kl:handler\n    (\n      [\n        a code:EcmaScriptModule ;\n        code:link <node:@kopflos-cms/serve-file#default> ;\n        code:arguments ( "templates/person.html" ) ;\n      ]\n      [\n        a code:EcmaScriptModule ;\n        code:link <node:@kopflos-labs/html-template#default> ;\n        code:arguments\n          (\n            [\n              a code:EcmaScriptModule ;\n              code:link <node:@kopflos-labs/handlebars#default>\n            ]\n          ) ;\n      ]\n    )\n] .\n'})}),"\n",(0,o.jsx)(t.p,{children:"One argument is required for the handler, which is the module that will be used to process the templates.\nYou can also provide a second argument which is the data source for the template. Any additional arguments\nwill be passed to the template data function."}),"\n",(0,o.jsx)(t.admonition,{type:"tip",children:(0,o.jsxs)(t.p,{children:["If no data source is provided, the handler will use the ",(0,o.jsx)(t.a,{href:"/docs/apis/kopflos/reference/glossary#core-representation",children:"Core Representation"}),"."]})}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-turtle",children:'PREFIX code: <https://code.described.at/>\nPREFIX kl: <https://kopflos.described.at/>\n\n[\n  kl:handler\n    (\n      [\n        a code:EcmaScriptModule ;\n        code:link <node:@kopflos-labs/html-template#default> ;\n        code:arguments\n          (\n            [\n              a code:EcmaScriptModule ;\n              code:link <node:@kopflos-labs/handlebars#default>\n            ]\n            [\n              a code:EcmaScriptModule ;\n              code:link <file:lib/templateData.js#default> ;\n            ]\n            "arg"\n          ) ;\n      ]\n    )\n] .\n'})}),"\n",(0,o.jsx)(t.p,{children:"To implement the data source, create a module that exports a function like below."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",children:"// lib/templateData.js\nimport type { TemplateDataFunc } from '@kopflos-labs/html-template'\n\nexport default function(arg: string): TemplateDataFunc {\n  return ({ env }) => {\n    // return an RDf/JS Stream or RDF/JS Dataset (can be async) \n    return env.sparql.default.stream.query.construct(yourQuery(arg))\n  }\n}\n"})})]})}function p(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(i,{...e})}):i(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>r});var a=n(6540);const o={},s=a.createContext(o);function l(e){const t=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),a.createElement(s.Provider,{value:t},e.children)}}}]);