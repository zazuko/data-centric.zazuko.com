"use strict";(self.webpackChunkdata_centric_zazuko_com=self.webpackChunkdata_centric_zazuko_com||[]).push([[4394],{1718:(e,s,o)=>{o.r(s),o.d(s,{assets:()=>h,contentTitle:()=>c,default:()=>p,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"apis/kopflos/how-to/resource-shape","title":"Select which resources should be served by the API","description":"The central concept of the Kopflos is the Resource Shape. Its main purpose is to define which resources should be served by the API and how they should be served. Resource Shapes reuse some SHACL concepts.","source":"@site/docs/apis/kopflos/how-to/resource-shape.md","sourceDirName":"apis/kopflos/how-to","slug":"/apis/kopflos/how-to/resource-shape","permalink":"/docs/apis/kopflos/how-to/resource-shape","draft":false,"unlisted":false,"editUrl":"https://github.com/zazuko/data-centric.zazuko.com/tree/main/docs/apis/kopflos/how-to/resource-shape.md","tags":[],"version":"current","frontMatter":{},"sidebar":"apisSidebar","previous":{"title":"Configure resource loaders","permalink":"/docs/apis/kopflos/how-to/resource-loaders"},"next":{"title":"Seed database on app start","permalink":"/docs/apis/kopflos/how-to/seed-database"}}');var r=o(4848),n=o(8453);const a={},c="Select which resources should be served by the API",h={},l=[{value:"Serving all instances of a class",id:"serving-all-instances-of-a-class",level:2},{value:"Serving specific instances",id:"serving-specific-instances",level:2},{value:"Serving objects of a property",id:"serving-objects-of-a-property",level:2}];function i(e){const s={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"select-which-resources-should-be-served-by-the-api",children:"Select which resources should be served by the API"})}),"\n",(0,r.jsxs)(s.p,{children:["The central concept of the Kopflos is the ",(0,r.jsx)(s.code,{children:"Resource Shape"}),". Its main purpose is to define which resources should be served by the API and how they should be served. Resource Shapes reuse some SHACL concepts."]}),"\n",(0,r.jsx)(s.h2,{id:"serving-all-instances-of-a-class",children:"Serving all instances of a class"}),"\n",(0,r.jsxs)(s.p,{children:["To have all instances of a class served by the API, define a shape that targets that class with ",(0,r.jsx)(s.code,{children:"sh:targetClass"}),"."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-turtle",children:"PREFIX sh: <http://www.w3.org/ns/shacl#>\nPREFIX kopflos: <https://kopflos.described.at/>\nPREFIX ex: <http://example.org/>\n\n<FooShape>\n  a kopflos:ResourceShape ;\n  sh:targetClass ex:Foo ;\n.\n\n<foo> a ex:Foo . # will be served by the API\n<bar> a ex:Foo . # will be served by the API\n<baz> a ex:Baz . # will not be served by the API\n"})}),"\n",(0,r.jsx)(s.h2,{id:"serving-specific-instances",children:"Serving specific instances"}),"\n",(0,r.jsxs)(s.p,{children:["To serve only specific instances of a class, define a shape that targets those instances with ",(0,r.jsx)(s.code,{children:"sh:targetNode"}),"."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-turtle",children:'PREFIX sh: <http://www.w3.org/ns/shacl#>\nPREFIX kopflos: <https://kopflos.described.at/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\n<Shape>\n  a kopflos:ResourceShape ;\n  sh:targetNode <foo>, <bar> ;\n.\n\n<foo> rdfs:label "foo" . # will be served by the API\n<bar> rdfs:label "bar" . # will be served by the API\n<baz> rdfs:label "baz" . # will not be served by the API\n'})}),"\n",(0,r.jsx)(s.h2,{id:"serving-objects-of-a-property",children:"Serving objects of a property"}),"\n",(0,r.jsx)(s.p,{children:"In some scenarios, it is useful to assign a specific handler to objects of a resource property."}),"\n",(0,r.jsxs)(s.p,{children:["To do so, define a shape that targets the property with ",(0,r.jsx)(s.code,{children:"sh:property/sh:path"})," and assign a ",(0,r.jsx)(s.code,{children:"kopflos:handler"})," to that Property Shape."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-turtle",children:"PREFIX ex: <http://example.org/>\nPREFIX sh: <http://www.w3.org/ns/shacl#>\nPREFIX kopflos: <https://kopflos.described.at/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\n<fooShape> \n  a kopflos:ResourceShape ;\n  sh:targetClass ex:Foo ;\n  sh:property [\n    sh:path <foo#export> ;\n    kopflos:handler [\n      # ...\n    ] ;\n  ] ;\n.\n\n<foo>\n  a ex:Foo ;\n  <foo#export> <foo/export> ; # <foo/export> will be served by the API\n  <foo#import> <foo/import> ; # but <foo/import> will not\n.\n"})})]})}function p(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(i,{...e})}):i(e)}},8453:(e,s,o)=>{o.d(s,{R:()=>a,x:()=>c});var t=o(6540);const r={},n=t.createContext(r);function a(e){const s=t.useContext(n);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(n.Provider,{value:s},e.children)}}}]);