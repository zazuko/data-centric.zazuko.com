"use strict";(self.webpackChunkdata_centric_zazuko_com=self.webpackChunkdata_centric_zazuko_com||[]).push([[439],{4324:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var s=t(4848),a=t(8453);const i={displayed_sidebar:"appsSidebar",title:"Deploy Zazuko Blueprint on Kubernetes",sidebar_label:"Deploy on Kubernetes",sidebar_position:2},r=void 0,o={id:"apps/blueprint/kubernetes",title:"Deploy Zazuko Blueprint on Kubernetes",description:"You can deploy Zazuko Blueprint on Kubernetes using the provided Helm chart.",source:"@site/docs/apps/blueprint/kubernetes.md",sourceDirName:"apps/blueprint",slug:"/apps/blueprint/kubernetes",permalink:"/docs/apps/blueprint/kubernetes",draft:!1,unlisted:!1,editUrl:"https://github.com/zazuko/data-centric.zazuko.com/tree/main/docs/apps/blueprint/kubernetes.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{displayed_sidebar:"appsSidebar",title:"Deploy Zazuko Blueprint on Kubernetes",sidebar_label:"Deploy on Kubernetes",sidebar_position:2},sidebar:"appsSidebar",previous:{title:"Deploy using Docker",permalink:"/docs/apps/blueprint/docker"}},l={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installation steps",id:"installation-steps",level:2},{value:"Add the Zazuko Helm repository",id:"add-the-zazuko-helm-repository",level:3},{value:"Create a <code>values.yaml</code> file",id:"create-a-valuesyaml-file",level:3},{value:"Install the chart",id:"install-the-chart",level:3}];function u(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"You can deploy Zazuko Blueprint on Kubernetes using the provided Helm chart."}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"A running Kubernetes cluster"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://helm.sh/docs/intro/install/",children:"Helm"})," installed"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"installation-steps",children:"Installation steps"}),"\n",(0,s.jsx)(n.h3,{id:"add-the-zazuko-helm-repository",children:"Add the Zazuko Helm repository"}),"\n",(0,s.jsx)(n.p,{children:"First, you will need to add the Zazuko Helm repository:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"helm repo add zazuko https://charts.zazuko.com\n"})}),"\n",(0,s.jsx)(n.p,{children:"So that you can install any of the Zazuko Helm charts."}),"\n",(0,s.jsxs)(n.h3,{id:"create-a-valuesyaml-file",children:["Create a ",(0,s.jsx)(n.code,{children:"values.yaml"})," file"]}),"\n",(0,s.jsxs)(n.p,{children:["You can take a look at the ",(0,s.jsx)(n.a,{href:"https://artifacthub.io/packages/helm/zazuko/blueprint",children:"Artifact Hub"})," to see the available configuration options."]}),"\n",(0,s.jsxs)(n.p,{children:["To get started, you can create a ",(0,s.jsx)(n.code,{children:"values.yaml"})," file with the following content:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'endpointUrl: https://ld.example.com/query\nsparqlConsoleUrl: https://ld.example.com/sparql/#query\ngraphExplorerUrl: https://ld.example.com/graph-explorer/?resource\nfullTextSearchDialect: fuseki\nneptuneFtsEndpoint: ""\n\n# Ingress configuration\ningress:\n  enabled: true\n  className: ""\n  annotations:\n    kubernetes.io/tls-acme: "true"\n    # kubernetes.io/ingress.class: nginx\n\n  # Make sure to configure the following fields if you enable the Ingress\n  hosts:\n    - host: blueprint.example.com\n      paths:\n        - path: /\n          pathType: ImplementationSpecific\n  tls:\n    - secretName: blueprint-example-com-tls\n      hosts:\n        - blueprint.example.com\n\n# Trifid configuration\ntrifid:\n  enabled: true # Let\'s deploy a Trifid instance\n\n  # Information about the SPARQL endpoint\n  sparql:\n    endpoint: "http://blueprint-fuseki:3030/ds/query" # Feel free to change this to your own SPARQL endpoint\n    # Uncomment the following lines if you need to authenticate\n    # username: ""\n    # password: ""\n\n  # Set the base URL for the dataset, to allow some rewriting features\n  dataset:\n    baseUrl: "" # You can leave this empty if you don\'t need it\n\n  # Ingress configuration\n  ingress:\n    enabled: true\n    className: ""\n    annotations:\n      kubernetes.io/tls-acme: "true"\n      # kubernetes.io/ingress.class: nginx\n\n    # Make sure to configure the following fields if you enable the Ingress\n    hosts:\n      - host: ld.example.com\n        paths:\n          - path: /\n            pathType: ImplementationSpecific\n    tls:\n      - secretName: ld-example-com-tls\n        hosts:\n          - ld.example.com\n\n# Fuseki configuration\nfuseki:\n  enabled: true # Let\'s deploy a Fuseki instance also\n\n  config:\n    adminPassword: super-secret-password\n    javaOpts: "-Xmx2048m -Xms2048m"\n\n  storage:\n    enabled: true\n    size: 10Gi\n'})}),"\n",(0,s.jsxs)(n.p,{children:["It assumes that the Trifid instance will be deployed at ",(0,s.jsx)(n.code,{children:"ld.example.com"})," and the Blueprint instance at ",(0,s.jsx)(n.code,{children:"blueprint.example.com"}),".\nYou can change these values to match your domain."]}),"\n",(0,s.jsxs)(n.p,{children:["The Fuseki endpoint is not exposed, that's why you can see that Trifid is configured to use ",(0,s.jsx)(n.code,{children:"blueprint-fuseki:3030/ds/query"})," as the endpoint.\nFeel free to change this to your own SPARQL endpoint, if you want to use a different one."]}),"\n",(0,s.jsxs)(n.p,{children:["Make sure to update the different ingress configurations to match your domain and TLS configuration.\nRelevant keys are ",(0,s.jsx)(n.code,{children:"ingress"})," and ",(0,s.jsx)(n.code,{children:"trifid.ingress"}),".\nYou can disable them by setting ",(0,s.jsx)(n.code,{children:"enabled: false"}),", and then you can access the services using port-forwarding or by creating the ingresses manually."]}),"\n",(0,s.jsxs)(n.p,{children:["You might want to see for more configuration options by checking the ",(0,s.jsx)(n.a,{href:"https://artifacthub.io/packages/helm/zazuko/blueprint#values",children:"Artifact Hub"})," page."]}),"\n",(0,s.jsx)(n.h3,{id:"install-the-chart",children:"Install the chart"}),"\n",(0,s.jsxs)(n.p,{children:["Using the ",(0,s.jsx)(n.code,{children:"values.yaml"})," file you created, you can install the chart:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"helm install blueprint-release zazuko/blueprint --values values.yaml # --namespace default\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You can specify the namespace where you want to install the chart using the ",(0,s.jsx)(n.code,{children:"--namespace"})," flag."]}),"\n",(0,s.jsxs)(n.p,{children:["You can also use another name for the release by changing ",(0,s.jsx)(n.code,{children:"blueprint-release"})," to your desired name."]})]})}function d(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>o});var s=t(6540);const a={},i=s.createContext(a);function r(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);